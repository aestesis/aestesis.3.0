//////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////
import {
	BoxGeometry,
	Mesh,
	MeshBasicMaterial,
	PerspectiveCamera,
	Scene,
	WebGLRenderer,
	WebGLRenderTarget,
	OrthographicCamera,
	RGBFormat,
	BufferGeometry,
	BufferAttribute,
	RawShaderMaterial,
	Vector2,
} from 'three';
//////////////////////////////////////////////////////////////////////////////////////////////////
import { Aestesis } from './aestesis.js';
//////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////
let app;
//////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////
class App {
	constructor() {
		app = this;
	}
	run() {
		const renderer = this.renderer = new WebGLRenderer({ antialias: true });
		renderer.setPixelRatio(window.devicePixelRatio);
		renderer.setSize(window.innerWidth, window.innerHeight);
		document.body.appendChild(renderer.domElement);
		window.addEventListener('resize', onWindowResize, false);
		this.aestesis = new Aestesis({ width: 320, height: 200 });
		animate();
	}
	pulse() {
		this.aestesis.render(this.renderer);
	}
}
//////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////
function onWindowResize() {
	app.renderer.setSize(window.innerWidth, window.innerHeight);
}
//////////////////////////////////////////////////////////////////////////////////////////////////
function animate() {
	setTimeout(() => requestAnimationFrame(animate), 0);
	app.pulse();
}
//////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////
export default App;
//////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////

